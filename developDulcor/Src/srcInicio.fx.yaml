srcInicio As screen:
    BackgroundImage: ='FondoHomeSinLogo-dulcor2'
    Fill: =RGBA(255, 255, 255, 1) 
    ImagePosition: =ImagePosition.Fill
    LoadingSpinnerColor: =RGBA(100, 118, 132, 1)
    OnVisible: |-
        =UpdateContext(
            {
                estado_recepcion: "",
                seguimientoList: SortByColumns(
                    Filter(
                        seguimientoFacturasCollect,
                        txtBusqueda.Text in 'Numero de Comprobante',
                        OrdenEstado = 0,
                        Lower(User().Email) in Lower('Dirección de correo electrónico')//DEMO 
                    ),
                    "pss_ordenestado",
                    SortOrder.Ascending
                )
            }
        )

    "ListadoSeguimiento As gallery.'BrowseLayout_Vertical_ThreeTextVariant_ver4.0'":
        BorderColor: =RGBA(32, 54, 71, 1)
        Height: =913
        Items: |-
            =seguimientoList
            /*SortByColumns(
            Filter(
                seguimientoFacturasCollect;
                txtBusqueda.Text in 'Numero de Comprobante';
                estado_recepcion in Text('Estado de Recepción')
                ;Lower(User().Email) in Lower('Dirección de correo electrónico')//DEMO solo registros del usuario actual, el filtro se aplicaria en OnStart, cuando inicia la aplicacion
            ); "pss_ordenestado"; SortOrder.Ascending
            )
            */
            
            // pss_estadoderecepcion pss_ordenestado
        Layout: =Layout.Vertical
        LoadingSpinner: =LoadingSpinner.Controls
        TemplatePadding: =0
        TemplateSize: =101
        Y: =223
        ZIndex: =1

        Title2 As label:
            Color: =RGBA(0, 0, 0, 1)
            DisabledColor: =RGBA(166, 166, 166, 1)
            FontWeight: =FontWeight.Semibold
            Height: =Self.Size * 1.8
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Size: =15
            Text: |-
                ="# Factura " & ThisItem.'Numero de Comprobante'
            VerticalAlign: =VerticalAlign.Top
            Width: =522
            X: =45
            Y: =6
            ZIndex: =1

        Subtitle2 As label:
            Align: =Align.Right
            Color: =RGBA(0, 0, 0, 1)
            DisabledColor: =RGBA(166, 166, 166, 1)
            Height: =20
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Size: =8
            Text: ="Seguim." &  ThisItem.'Numero de Seguimiento'
            VerticalAlign: =VerticalAlign.Top
            Width: =209
            X: =359
            Y: =13
            ZIndex: =2

        Body1 As label:
            Align: =Align.Justify
            Color: =RGBA(0, 0, 0, 1)
            DisabledColor: =RGBA(166, 166, 166, 1)
            Height: =67
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Size: =10
            Text: |
                =//"Estado de Recepción: " & ThisItem.'Estado de Recepción' & 
                "Cliente: " & Upper(ThisItem.Cliente.'Nombre Full Contacto') & " 
                Transportista: " & ThisItem.Transportista.'Nombre Full Contacto'  & " 
                Destino: " & Upper(ThisItem.Destino.Name) & "    Fecha : " & Text(ThisItem.pss_fechacomprobante,DateTimeFormat.ShortDate,"es-ES")
            Width: =529
            X: =45
            Y: =33
            ZIndex: =3

        NextArrow2 As icon.ChevronRight:
            AccessibleLabel: =Self.Tooltip
            BorderColor: =RGBA(32, 54, 71, 1)
            Color: =RGBA(32, 54, 71, 1)
            DisabledBorderColor: =RGBA(166, 166, 166, 1)
            DisabledColor: =RGBA(244, 244, 244, 1)
            Height: =60
            Icon: =Icon.ChevronRight
            OnSelect: |-
                =ViewForm(frmDetalle); Navigate(srcDetalle,ScreenTransition.Cover, { factura : ListadoSeguimiento.Selected});UpdateContext({ barcodeFront : ""})
            PaddingBottom: =10
            PaddingLeft: =10
            PaddingRight: =10
            PaddingTop: =10
            TabIndex: =0
            Tooltip: ="Ver los detalles del elemento"
            Width: =60
            X: =574
            Y: =18
            ZIndex: =4

        Separator2 As rectangle:
            BorderColor: =RGBA(32, 54, 71, 1)
            Fill: =RGBA(32, 54, 71, 1)
            Height: =1
            OnSelect: =Select(Parent)
            Width: =Parent.TemplateWidth
            Y: =Parent.TemplateHeight - 1
            ZIndex: =5

        Circle1 As circle:
            BorderColor: =RGBA(32, 54, 71, 1)
            Fill: |-
                =/*
                rojo  RGBA(255; 0; 0; 1)
                amarillo RGBA(255; 255; 0; 1)
                verde RGBA(152; 208; 70; 1)
                */
                Switch(
                    Text(ThisItem.'Estado de Recepción'),
                    "Recibido",
                    RGBA(
                        152,
                        208,
                        70,
                        1
                    ),
                    "Observado",
                    RGBA(
                        255,
                        255,
                        0,
                        1
                    ),
                    "Rechazado",
                    RGBA(
                        255,
                        0,
                        0,
                        1
                    )
                )
            Height: =30
            Width: =30
            X: =7
            Y: =23
            ZIndex: =6

    Header_1 As Header:
        colorHeader: =""
        COLORheader1: =RGBA(237, 237, 237, 1)
        txtTituloInput: ="Listado de Comprobantes "
        ZIndex: =2

    txtBusqueda As text:
        BorderColor: =RGBA(179, 179, 179, 1)
        Clear: =true
        Color: =RGBA(0, 0, 0, 1)
        Default: =If(!IsEmpty(barcodeFront),barcodeFront,"")
        DisabledBorderColor: =RGBA(166, 166, 166, 1)
        DisabledColor: =RGBA(166, 166, 166, 1)
        DisabledFill: =RGBA(244, 244, 244, 1)
        FocusedBorderThickness: =4
        Font: =Font.Lato
        Height: =39
        HintText: ="Ingrese una factura"
        HoverBorderColor: =RGBA(32, 54, 71, 1)
        HoverColor: =RGBA(0, 0, 0, 1)
        HoverFill: =RGBA(205, 209, 213, 1)
        MaxLength: =150
        OnChange: |-
            =UpdateContext(
                {
                    seguimientoList: SortByColumns(
                        Filter(
                            seguimientoFacturasCollect,
                            txtBusqueda.Text in 'Numero de Comprobante',
                            estado_recepcion in Text('Estado de Recepción'),
                            Lower(User().Email) in Lower('Dirección de correo electrónico')//DEMO 
                        ),
                        "pss_ordenestado",
                        SortOrder.Ascending
                    )
                }
            )
        PaddingLeft: =30
        Size: =16
        Width: =640
        Y: =173
        ZIndex: =4

    Image3 As image:
        BorderColor: =RGBA(32, 54, 71, 1)
        DisabledBorderColor: =RGBA(166, 166, 166, 1)
        DisabledFill: =RGBA(244, 244, 244, 1)
        Height: =51
        Image: ='8201368_scan_camera_photo_ui_image_icon'
        ImagePosition: =ImagePosition.Fill
        Width: =52
        X: =34
        Y: =95
        ZIndex: =5

    Rectangle2 As rectangle:
        BorderColor: =RGBA(32, 54, 71, 1)
        Fill: |-
            =If( Connection.Connected, RGBA(152, 208, 70, 1), RGBA(221, 79, 14, 1) )
            //If( Connection.Connected; RGBA(221; 79; 14; 1); RGBA(152; 208; 70; 1) )
        Height: =27
        Width: =640
        Y: =60
        ZIndex: =7

    iconRecargar As icon.Add:
        BorderColor: =RGBA(32, 54, 71, 1)
        Color: =RGBA(32, 54, 71, 1)
        DisabledBorderColor: =RGBA(166, 166, 166, 1)
        DisabledColor: =RGBA(244, 244, 244, 1)
        FocusedBorderThickness: =0
        Height: =45
        HoverFill: =RGBA(0, 0, 0, 0.2)
        Icon: =Icon.Reload
        OnSelect: |-
            =If(Connection.Connected,
            
            //Limpieza
            Clear(contactosClientesCollect);Clear(contactosTransportesCollect);Clear(seguimientoFacturasCollect);
            ClearData("contactosClientesData"); 
            ClearData( "contactosTransportesData" );
            ClearData("seguimientoFacturasData");
            
            //consulto de dataverse
            Concurrent(
                Collect(contactosClientesCollect,Filter(Contactos, Estado exactin  "Activo" &&  'Tipo de contacto Seguimiento' exactin "Cliente"  &&  !IsBlank(Cuit) && Cuit <> "0")),
                Collect(contactosTransportesCollect,Filter(Contactos, Estado exactin  "Activo" &&  'Tipo de contacto Seguimiento' exactin "Transporte"  &&  !IsBlank(Cuit)  && Cuit <> "0" )),
                Collect(seguimientoFacturasCollect,Filter('Seguimiento Comprobantes', Estado exactin  "Activo" ))
            );
            
            //If(varMobileOrDesktop = "mobile";
             
            
                //guardo en memoria
                SaveData(contactosClientesCollect, "contactosClientesData");
                SaveData(contactosTransportesCollect, "contactosTransportesData");
                SaveData(seguimientoFacturasCollect, "seguimientoFacturasData" );
            
                SaveData(tipoContactoOpcionesCollect , "tipoContactoOpcionesData" );
                SaveData(estadoRecepcionOpcionesCollect, "estadoRecepcionOpcionesData" );
                
            
                //cargo de las colecciones en  memoria
                //LoadData(contactosClientesCollect; "contactosClientesData");;
                //LoadData(contactosTransportesCollect; "contactosTransportesData");;
                //LoadData(seguimientoFacturasCollect; "seguimientoFacturasData"))
            
            )
        Visible: =false
        Width: =45
        X: =477
        Y: =89
        ZIndex: =8

    BarcodeScanner2 As barcodeScanner:
        DisabledBorderColor: =RGBA(166, 166, 166, 1)
        DisabledColor: =RGBA(166, 166, 166, 1)
        DisabledFill: =RGBA(244, 244, 244, 1)
        Fill: =RGBA(0, 0, 0, 0)
        FontWeight: =FontWeight.Semibold
        Height: =56
        HoverColor: =RGBA(255, 255, 255, 1)
        HoverFill: =RGBA(0, 0, 0, 0.2)
        OnCancel: |-
            =UpdateContext({ barcodeFront : ""});
        OnScan: |-
            =UpdateContext({ barcodeFront : BarcodeScanner2.Value})
        Size: =24
        Text: =""
        Width: =66
        X: =27
        Y: =104
        ZIndex: =9

    Label4 As label:
        BorderColor: =RGBA(32, 54, 71, 1)
        Color: =RGBA(0, 0, 0, 1)
        DisabledColor: =RGBA(166, 166, 166, 1)
        Height: =14
        Size: =9
        Text: ="Escanear"
        Width: =66
        X: =27
        Y: =144
        ZIndex: =10

    Label4_1 As label:
        BorderColor: =RGBA(32, 54, 71, 1)
        Color: =RGBA(0, 0, 0, 1)
        DisabledColor: =RGBA(166, 166, 166, 1)
        Height: =14
        Size: =9
        Text: ="Refrescar"
        Visible: =false
        Width: =69
        X: =465
        Y: =140
        ZIndex: =11

    Icon4 As icon.Settings:
        BorderColor: =RGBA(32, 54, 71, 1)
        Color: =RGBA(90, 106, 119, 1)
        DisabledBorderColor: =RGBA(166, 166, 166, 1)
        DisabledColor: =RGBA(244, 244, 244, 1)
        Height: =50
        Icon: =Icon.Settings
        OnSelect: =Navigate(srcConfig,ScreenTransition.Fade)
        Width: =50
        X: =565
        Y: =5
        ZIndex: =13

    Label9 As label:
        Align: =Align.Right
        AutoHeight: =true
        BorderColor: =RGBA(32, 54, 71, 1)
        Color: =RGBA(0, 0, 0, 1)
        DisabledColor: =RGBA(166, 166, 166, 1)
        FontWeight: =FontWeight.Semibold
        Height: =13
        PaddingRight: =30
        Size: =11
        Text: =If( Connection.Connected , "ONLINE", "SIN CONEXION")
        Width: =640
        Y: =60
        ZIndex: =14

    GroupNew As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =14

        iconNuevo As icon.Add:
            BorderColor: =RGBA(32, 54, 71, 1)
            Color: =RGBA(32, 54, 71, 1)
            DisabledBorderColor: =RGBA(166, 166, 166, 1)
            DisabledColor: =RGBA(244, 244, 244, 1)
            Height: =45
            HoverFill: =RGBA(0, 0, 0, 0.2)
            Icon: =Icon.Add
            OnSelect: |-
                =UpdateContext({ barcodeFront : ""});NewForm(frmAlta_1);Navigate(srcNew,ScreenTransition.CoverRight)
                //NewForm(frmAlta);;Navigate(srcNuevo;ScreenTransition.CoverRight)
            Visible: =false
            Width: =45
            X: =560
            Y: =87
            ZIndex: =6

        Label4_2 As label:
            BorderColor: =RGBA(32, 54, 71, 1)
            Color: =RGBA(0, 0, 0, 1)
            DisabledColor: =RGBA(166, 166, 166, 1)
            Height: =13
            Size: =9
            Text: ="Nuevo"
            Visible: =false
            Width: =55
            X: =560
            Y: =140
            ZIndex: =12

    Label9_1 As label:
        AutoHeight: =true
        BorderColor: =RGBA(32, 54, 71, 1)
        Color: =RGBA(0, 0, 0, 1)
        DisabledColor: =RGBA(166, 166, 166, 1)
        FontWeight: =FontWeight.Semibold
        Height: =13
        PaddingLeft: =10
        PaddingRight: =30
        Size: =10
        Text: =User().FullName & " | " & User().Email
        Width: =640
        Y: =60
        ZIndex: =15

    "galFilterEstados As gallery.'BrowseLayout_Vertical_OneTextVariant_ver4.0'":
        BorderColor: =RGBA(32, 54, 71, 1)
        Height: =42
        Items: =estadoRecepcionOpcionesCollect
        Layout: =Layout.Vertical
        TemplatePadding: =0
        TemplateSize: =0
        Width: =442
        WrapCount: =3
        X: =113
        Y: =104
        ZIndex: =16

        Title10_3 As label:
            Align: =Align.Center
            Color: =RGBA(0, 0, 0, 1)
            DisabledColor: =RGBA(166, 166, 166, 1)
            Fill: |
                =Switch(ThisItem.nombre,
                "Recibido", RGBA(152, 208, 70, 1),
                "Observado", RGBA(255, 255, 0, 1),
                "Rechazado", RGBA(255, 0, 0, 1))
            FontWeight: =FontWeight.Semibold
            HoverFill: =RGBA(204, 204, 204, 1)
            OnSelect: |
                =UpdateContext(
                    {
                        //estado_recepcion: ThisItem.nombre;
                        seguimientoList: SortByColumns(
                            Filter(
                                seguimientoFacturasCollect,
                                txtBusqueda.Text in 'Numero de Comprobante',
                                ThisItem.nombre in Text('Estado de Recepción'),
                                //estado_recepcion = Text('Estado de Recepción');
                                Lower(User().Email) in Lower('Dirección de correo electrónico')//DEMO 
                            ),
                            "pss_ordenestado",
                            SortOrder.Ascending
                        )
                    }
                );
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Size: =11
            Text: =ThisItem.nombre
            Width: =140
            X: =
            ZIndex: =1

        NextArrow10_3 As icon.ChevronRight:
            AccessibleLabel: =Self.Tooltip
            BorderColor: =RGBA(32, 54, 71, 1)
            Color: =RGBA(32, 54, 71, 1)
            DisabledBorderColor: =RGBA(166, 166, 166, 1)
            DisabledColor: =RGBA(244, 244, 244, 1)
            Height: =1
            Icon: =Icon.ChevronRight
            OnSelect: =Select(Parent)
            PaddingBottom: =10
            PaddingLeft: =10
            PaddingRight: =10
            PaddingTop: =10
            TabIndex: =0
            Tooltip: ="Ver los detalles del elemento"
            Visible: =false
            Width: =60
            X: =Parent.TemplateWidth - Self.Width - 5
            ZIndex: =2

        Separator10_3 As rectangle:
            BorderColor: =RGBA(32, 54, 71, 1)
            Fill: =RGBA(32, 54, 71, 1)
            Height: =1
            OnSelect: =Select(Parent)
            Visible: =false
            Width: =Parent.TemplateWidth
            Y: =Parent.TemplateHeight - 1
            ZIndex: =3

    Icon1 As icon.Reload:
        BorderColor: =RGBA(32, 54, 71, 1)
        Color: =RGBA(32, 54, 71, 1)
        DisabledBorderColor: =RGBA(166, 166, 166, 1)
        DisabledColor: =RGBA(244, 244, 244, 1)
        Height: =40
        Icon: =Icon.Reload
        OnSelect: |-
            =UpdateContext(
                {
                    estado_recepcion: "",
                    seguimientoList: SortByColumns(
                        Filter(
                            seguimientoFacturasCollect,
                            txtBusqueda.Text in 'Numero de Comprobante',
                            OrdenEstado = 0,
                            Lower(User().Email) in Lower('Dirección de correo electrónico')//DEMO 
                        ),
                        "pss_ordenestado",
                        SortOrder.Ascending
                    )
                }
            )
        Width: =50
        X: =565
        Y: =106
        ZIndex: =17

    filterTransportista As combobox:
        BorderColor: =RGBA(32, 54, 71, 1)
        ChevronBackground: =RGBA(100, 118, 132, 1)
        ChevronDisabledBackground: =RGBA(166, 166, 166, 1)
        ChevronDisabledFill: =RGBA(244, 244, 244, 1)
        ChevronHoverBackground: =ColorFade(RGBA(100, 118, 132, 1), -20%)
        ChevronHoverFill: =RGBA(255, 255, 255, 1)
        DisabledBorderColor: =RGBA(166, 166, 166, 1)
        DisabledColor: =RGBA(166, 166, 166, 1)
        DisabledFill: =RGBA(244, 244, 244, 1)
        DisplayFields: =["pss_razonsocial"]
        Height: =43
        HoverColor: =RGBA(0, 0, 0, 1)
        HoverFill: =RGBA(205, 209, 213, 1)
        Items: =contactosTransportesCollect
        PressedColor: =RGBA(255, 255, 255, 1)
        PressedFill: =RGBA(32, 54, 71, 1)
        SearchFields: =["pss_razonsocial"]
        SearchItems: =Search(contactosTransportesCollect,filterTransportista.SearchText,"pss_razonsocial")
        SelectionFill: =RGBA(100, 118, 132, 1)
        SelectMultiple: =false
        Visible: =false
        Width: =436
        X: =113
        Y: =130
        ZIndex: =19

